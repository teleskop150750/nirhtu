# Контрольная работа по Предместьину. 4 вариант

<video src="demo.mp4" controls title="Title"></video>

## Часть первая. Файл ```a.cpp```

Эта программа на языке C++ создает двумерный массив (массив массивов), заполняет его определенным образом, выводит его на экран и записывает в файл. Вот подробное объяснение каждой части программы:

1. **Подключение библиотек**: В начале файла подключаются три библиотеки. `#include <iostream>` используется для работы с вводом-выводом, `#include <fstream>` для работы с файлами, и `#include <vector>` для работы с векторами (динамическими массивами).

2. **Объявление функций**: Затем объявляются четыре функции, которые будут использоваться в программе. Это как бы обещание компилятору, что эти функции будут определены позже.

3. **Функция `main`**: Это основная функция программы, которая выполняется при запуске программы.

   - **Создание массива**: Сначала вызывается функция `createArray`, которая создает двумерный массив (или таблицу) заданного размера. В данном случае размер равен 5, поэтому создается таблица размером 5x5.

   - **Заполнение массива**: Затем вызывается функция `fillArray`, которая заполняет массив. В данном случае она устанавливает единицы на диагоналях.

   - **Вывод массива на экран**: Затем вызывается функция `printArray`, которая выводит массив на экран.

   - **Запись массива в файл**: Наконец, вызывается функция `writeArrayToFile`, которая записывает массив в файл с именем "array.txt".

4. **Возвращение 0**: В конце функции `main` возвращается 0, что означает, что программа успешно завершилась.

5. **Определение функций**: После функции `main` следуют определения функций `createArray`, `fillArray`, `printArray` и `writeArrayToFile`. Это код, который объясняет, что делают эти функции.

   - **Функция `createArray`**: Эта функция создает двумерный массив (или таблицу) заданного размера и заполняет его нулями.

   - **Функция `fillArray`**: Эта функция заполняет массив, устанавливая единицы на диагоналях.

   - **Функция `printArray`**: Эта функция выводит массив на экран.

   - **Функция `writeArrayToFile`**: Эта функция записывает массив в файл.

Важно отметить, что в C++ код выполняется сверху вниз, поэтому функции должны быть объявлены до их использования. Это объясняет, почему функции сначала объявляются, а затем определяются.

### ```createArray```

Функция `createArray` в этом коде используется для создания двумерного массива (или таблицы) определенного размера и заполнения его нулями. Вот подробное объяснение того, что делает эта функция:

1. **Определение типа данных**: Функция `createArray` определена как функция, которая возвращает двумерный вектор целых чисел. Это означает, что функция создает и возвращает двумерный массив.

2. **Параметры функции**: Функция принимает один параметр: целое число `size`, которое определяет размер создаваемого массива.

3. **Создание массива**: Внутри функции создается двумерный вектор `array` размером `size` на `size`. Все элементы массива инициализируются нулями.

4. **Возвращение массива**: В конце функции массив `array` возвращается как результат работы функции.

Вот как может выглядеть код функции `createArray`:

```cpp
std::vector<std::vector<int>> createArray(int size) {
    // Создаем двумерный вектор размером 'size' на 'size' и заполняем его нулями
    std::vector<std::vector<int>> array(size, std::vector<int>(size, 0));
    return array;
}
```

Обратите внимание, что вектор в C++ - это динамический массив, который может изменять свой размер во время выполнения программы. Векторы обычно используются вместо обычных массивов в C++, так как они более гибкие и удобные в использовании.

### ```fillArray```

Функция `fillArray` в этом коде принимает двумерный вектор (массив массивов) по ссылке и заполняет его определенным образом. Вот подробное объяснение того, что делает эта функция:

1. **Получение размера массива**: Сначала функция получает размер массива и его подмассивов (строк). Это делается с помощью метода `size()`, который возвращает количество элементов в векторе.

2. **Вычисление середины массива**: Затем функция вычисляет середину массива, деля размер на 2.

3. **Проход по массиву**: Функция затем проходит по каждому элементу массива с помощью двух вложенных циклов `for`. Первый цикл проходит по каждой строке массива, а второй цикл проходит по каждому элементу в строке.

4. **Установка значений элементов**: Внутри второго цикла функция проверяет, равен ли текущий индекс индексу элемента или индексу симметричного элемента. Если это так, то функция устанавливает значение элемента равным 1.

Обратите внимание, что функция изменяет исходный массив, так как он передается по ссылке. Это значит, что любые изменения, сделанные в функции, будут видны и после ее завершения.

### ```printArray```

Функция `printArray` в этом коде используется для вывода двумерного массива (или таблицы) на экран. Вот подробное объяснение того, что делает эта функция:

1. **Определение типа данных**: Функция `printArray` определена как функция, которая не возвращает никакого значения (тип `void`). Это означает, что ее основная цель - выполнить некоторое действие, а не вернуть значение.

2. **Параметры функции**: Функция принимает один параметр: двумерный вектор целых чисел `array`, который нужно вывести на экран.

3. **Проход по массиву**: Внутри функции происходит проход по каждому элементу массива с помощью двух вложенных циклов `for`. Первый цикл проходит по каждой строке массива, а второй цикл проходит по каждому элементу в строке.

4. **Вывод элементов на экран**: Внутри второго цикла каждый элемент массива выводится на экран с помощью оператора `<<`, который используется для вывода в C++. После каждой строки выводится символ новой строки (`\n`), чтобы следующая строка начиналась с новой строки.

Вот как может выглядеть код функции `printArray`:

```cpp
void printArray(const std::vector<std::vector<int>>& array) {
    // Проходим по каждой строке массива
    for (const auto& row : array) {
        // Проходим по каждому элементу в строке
        for (const auto& element : row) {
            // Выводим элемент на экран
            std::cout << element << ' ';
        }
        // Выводим символ новой строки после каждой строки
        std::cout << '\n';
    }
}
```

Обратите внимание, что параметр `array` передается по константной ссылке, чтобы избежать копирования массива и сохранить его неизменным.

### ```writeArrayToFile```

Функция `writeArrayToFile` в этом коде используется для записи двумерного массива (или таблицы) в файл. Вот подробное объяснение того, что делает эта функция:

1. **Определение типа данных**: Функция `writeArrayToFile` определена как функция, которая не возвращает никакого значения (тип `void`). Это означает, что ее основная цель - выполнить некоторое действие, а не вернуть значение.

2. **Параметры функции**: Функция принимает два параметра: двумерный вектор целых чисел `array`, который нужно записать в файл, и строку `filename`, которая определяет имя файла, в который будет произведена запись.

3. **Открытие файла**: Внутри функции сначала создается объект `ofstream` (output file stream), который используется для записи в файл. Файл открывается с помощью имени файла, переданного в функцию.

4. **Проверка открытия файла**: Затем функция проверяет, был ли файл успешно открыт, с помощью метода `is_open`. Если файл не был открыт, функция выводит сообщение об ошибке и завершает свою работу.

5. **Запись массива в файл**: Если файл был успешно открыт, функция проходит по каждому элементу массива с помощью двух вложенных циклов `for` и записывает каждый элемент в файл.

6. **Закрытие файла**: После записи всех элементов массива в файл, файл закрывается с помощью метода `close`.

Вот как может выглядеть код функции `writeArrayToFile`:

```cpp
void writeArrayToFile(const std::vector<std::vector<int>> &arr, const std::string &filename)
{
    std::ofstream file_out(filename); // Создаем объект ofstream для записи в файл с указанным именем

    // Проверяем, был ли файл успешно открыт
    if (!file_out.is_open())
    {
        std::cout << "Unable to open file " << filename << '\n';
        return;
    }

    for (const auto &row : arr) // Проходим по каждой строке массива
    {
        for (int num : row) // В каждой строке проходим по каждому элементу
        {
            file_out << num << ' '; // Записываем текущий элемент в файл
        }

        file_out << '\n'; // Переходим на новую строку в файле после записи всех элементов текущей строки
    }

    file_out.close(); // Закрываем файл после записи
}

```

Обратите внимание, что параметры `array` и `filename` передаются по константной ссылке, чтобы избежать копирования и сохранить их неизменными.


## Часть вторая. Файл ```b.cpp```

Эта программа на языке C++ читает двумерный массив из файла, выводит его на экран и подсчитывает количество нулей и единиц в массиве. Вот подробное объяснение каждой части программы:

1. **Подключение библиотек**: В начале файла подключаются четыре библиотеки. `#include <iostream>` используется для работы с вводом-выводом, `#include <fstream>` для работы с файлами, `#include <sstream>` для работы с потоками строк и `#include <vector>` для работы с векторами (динамическими массивами).

2. **Объявление функций**: Затем объявляются три функции, которые будут использоваться в программе. Это как бы обещание компилятору, что эти функции будут определены позже.

3. **Функция `main`**: Это основная функция программы, которая выполняется при запуске программы.

   - **Чтение массива из файла**: Сначала вызывается функция `readArrayFromFile`, которая читает двумерный массив из файла с именем "array.txt".

   - **Вывод массива на экран**: Затем вызывается функция `printArray`, которая выводит прочитанный массив на экран.

   - **Подсчет количества 0 и 1**: Затем вызывается функция `countZeroesAndOnes`, которая подсчитывает количество нулей и единиц в массиве. Результаты выводятся на экран.

4. **Возвращение 0**: В конце функции `main` возвращается 0, что означает, что программа успешно завершилась.

5. **Определение функций**: После функции `main` следуют определения функций `readArrayFromFile`, `printArray` и `countZeroesAndOnes`. Это код, который объясняет, что делают эти функции.

   - **Функция `readArrayFromFile`**: Эта функция читает двумерный массив из файла.

   - **Функция `printArray`**: Эта функция выводит массив на экран.

   - **Функция `countZeroesAndOnes`**: Эта функция подсчитывает количество нулей и единиц в двумерном массиве.

### ```readArrayFromFile```

Функция `readArrayFromFile` в этом коде используется для чтения двумерного массива (или таблицы) из файла. Вот подробное объяснение того, что делает эта функция:

1. **Определение типа данных**: Функция `readArrayFromFile` определена как функция, которая возвращает двумерный вектор целых чисел. Это означает, что функция читает двумерный массив из файла и возвращает его.

2. **Параметры функции**: Функция принимает один параметр: строку `filename`, которая определяет имя файла, из которого будет произведено чтение.

3. **Открытие файла**: Внутри функции сначала создается объект `ifstream` (input file stream), который используется для чтения из файла. Файл открывается с помощью имени файла, переданного в функцию.

4. **Проверка открытия файла**: Затем функция проверяет, был ли файл успешно открыт, с помощью метода `is_open`. Если файл не был открыт, функция выводит сообщение об ошибке и возвращает пустой массив.

5. **Чтение массива из файла**: Если файл был успешно открыт, функция читает каждую строку файла и преобразует ее в вектор целых чисел, который добавляется в массив.

6. **Закрытие файла**: После чтения всех строк файла, файл закрывается с помощью метода `close`.

7. **Возвращение массива**: В конце функции массив возвращается как результат работы функции.

Вот как может выглядеть код функции `readArrayFromFile`:

```cpp
std::vector<std::vector<int>> readArrayFromFile(const std::string &filename)
{
    std::ifstream file_in(filename); // Создаем объект ifstream для чтения из файла с указанным именем

    // Проверяем, был ли файл успешно открыт
    if (!file_in.is_open())
    {
        std::cerr << "Unable to open file\n"; // Выводим сообщение об ошибке

        return {}; // Возвращаем пустой массив
    }

    std::vector<std::vector<int>> arr; // Создаем двумерный массив для хранения прочитанных данных
    std::string line;                  // Создаем строку для хранения текущей строки файла

    while (std::getline(file_in, line)) // Читаем файл построчно
    {
        std::istringstream iss(line); // Создаем строковый поток из текущей строки
        std::vector<int> row;         // Создаем одномерный массив для хранения текущей строки двумерного массива
        int num;                      // Создаем переменную для хранения текущего числа

        while (iss >> num) // Читаем числа из текущей строки
        {
            row.push_back(num); // Добавляем текущее число в текущую строку
        }

        arr.push_back(row); // Добавляем текущую строку в двумерный массив
    }

    file_in.close(); // Закрываем файл после чтения

    return arr; // Возвращаем прочитанный массив
}

```

Обратите внимание, что параметр `filename` передается по константной ссылке, чтобы избежать копирования и сохранить его неизменным.

### ```printArray```

Функция `printArray` в этом коде используется для вывода двумерного массива (или таблицы) на экран. Вот подробное объяснение того, что делает эта функция:

1. **Определение типа данных**: Функция `printArray` определена как функция, которая не возвращает никакого значения (тип `void`). Это означает, что ее основная цель - выполнить некоторое действие, а не вернуть значение.

2. **Параметры функции**: Функция принимает один параметр: двумерный вектор целых чисел `array`, который нужно вывести на экран.

3. **Проход по массиву**: Внутри функции происходит проход по каждому элементу массива с помощью двух вложенных циклов `for`. Первый цикл проходит по каждой строке массива, а второй цикл проходит по каждому элементу в строке.

4. **Вывод элементов на экран**: Внутри второго цикла каждый элемент массива выводится на экран с помощью оператора `<<`, который используется для вывода в C++. После каждой строки выводится символ новой строки (`\n`), чтобы следующая строка начиналась с новой строки.

Вот как может выглядеть код функции `printArray`:

### ```countZeroesAndOnes```


Функция `countZeroesAndOnes` в этом коде, предположительно, используется для подсчета количества нулей и единиц в двумерном массиве (или таблице). Вот подробное объяснение того, что делает эта функция:

1. **Определение типа данных**: Функция `countZeroesAndOnes` определена как функция, которая возвращает пару целых чисел. Это означает, что функция возвращает два значения: количество нулей и количество единиц.

2. **Параметры функции**: Функция принимает один параметр: двумерный вектор целых чисел `array`, в котором нужно подсчитать количество нулей и единиц.

3. **Подсчет нулей и единиц**: Внутри функции происходит проход по каждому элементу массива с помощью двух вложенных циклов `for`. Для каждого элемента проверяется, равен ли он нулю или единице, и соответствующий счетчик увеличивается.

4. **Возвращение результатов**: В конце функции возвращается пара чисел: количество нулей и количество единиц.

Вот как может выглядеть код функции `countZeroesAndOnes`:

```cpp
std::pair<int, int> countZeroesAndOnes(const std::vector<std::vector<int>> &arr)
{
    int countZeroes = 0; // Создаем счетчик для нулей
    int countOnes = 0;   // Создаем счетчик для единиц

    for (const auto &row : arr) // Проходим по каждой строке массива
    {
        for (int num : row) // В каждой строке проходим по каждому элементу
        {
            if (num == 0) // Если текущий элемент равен нулю
            {
                countZeroes++; // Увеличиваем счетчик нулей
            }
            else if (num == 1) // Если текущий элемент равен единице
            {
                countOnes++; // Увеличиваем счетчик единиц
            }
        }
    }

    return {countZeroes, countOnes}; // Возвращаем пару: количество нулей и количество единиц
}
```

Обратите внимание, что параметр `array` передается по константной ссылке, чтобы избежать копирования массива и сохранить его неизменным.
